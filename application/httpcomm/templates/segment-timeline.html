{% macro segmenttimeline(segments) %}

    <div class="graph-timeline" style="height:calc(100% - 20px);position:relative">
        {% for segment in segments %}
            <div class="graph-timeline-object timeline-ease" style="left:{{205*(loop.index-1)}}px">
                <div class="graph-timeline-content">
                    <div class="graph-timeline-number text-center">Segment {{loop.index}}</div>
                    <form role="form">
                        <div class="form-group form-group-tight">
                            <label class="sr-only" for="start{{loop.index - 1}}">Start Value</label>
                            <input type="text" class="form-control" id="start{{loop.index - 1}}" placeholder="Start value" value="{{segment.start_value}}">
                        </div>
                        <div class="form-group form-group-tight">
                            <label class="sr-only" for="end{{loop.index - 1}}">End Value</label>
                            <input type="text" class="form-control" id="end{{loop.index - 1}}" placeholder="End value" value="{{segment.end_value}}">
                        </div>
                        <div class="form-group form-group-tight">
                            <label class="sr-only" for="rate{{loop.index - 1}}">Sweep Rate</label>
                            <input type="text" class="form-control" id="rate{{loop.index - 1}}" placeholder="Sweep rate" value="{{segment.rate}}">
                        </div>
                        <div class="form-group form-group-tight">
                            <label class="sr-only" for="duration{{loop.index - 1}}">Duration</label>
                            <input type="text" class="form-control" id="duration{{loop.index - 1}}" placeholder="Duration" value="{{segment.duration}}">
                        </div>
                        <button class="btn btn-default btn-block"><span class="glyphicon glyphicon-refresh"></span>  Update</button>
                    </form>
                </div>
            </div>
        {% endfor %}
    </div>

{% endmacro %}

{% if context %}
    {{ segmenttimeline(context.segments) }}
{% endif %}
